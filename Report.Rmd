---
title: "Indian Premier League (IPL) data analysis"
subtitle: 'STAT585 Final Project'
date: "`r format(Sys.time(), '%d %B %Y')`"
author: "Ashish Jain"
output: pdf_document
---

##Abstract
Cricket is one of the most popular and played sports in India. There are three standard types of cricket matches, Five-day match (Test Match), 50 overs match (One day match), and Twenty overs match (T20). Although all formats are quite popular but during the last decade, the popularity of the T20 matches has increased exponentially. The main reason for the popularity of T20 matches is more action in short time. The introduction of various T20 tournaments has also added to its popularity. Indian Premier League (IPL) is the biggest event among all the T20 tournaments across the globe. It is an annual tournament and consists of two stages. In the first or the league stage, each team plays against the other team twice. In the second stage, the top four teams after the league stage compete for the title. We are going to use the IPL data from the year 2008 to 2016. The raw data has been downloaded from [Cricsheet website](http://cricsheet.org/downloads/). The raw data consists ball by ball details individually for every match (577 files). The CSV file also has a summary of the match. For carrying out the analysis we have divided this project into two parts. In the first part, we will clean and format (tidy form) the data so that it can be used for the next part (visualization and analysis). In the next part, we will develop a shiny application in which the data can be analyzed by plotting and changing various parameters including year, team, and player.

The GitHub repository which I am using for this project is https://github.com/ashishjain1988/STAT585-FinalProject

##1. Introduction

##2. Methods

##2.1 Processing of the dataset
```
library(ggmap)
library(rworldmap)
cities<-unlist(matches %>% distinct(city) %>% filter(city != ""))
points<-geocode(cities)
row.names(points)<-cities
points<-points[,2:3]
coords2 <- function(points)
{
  countriesSP <- getMap(resolution='low')
  pointsSP = SpatialPoints(points, proj4string=CRS(proj4string(countriesSP)))  
  indices = over(pointsSP, countriesSP)
  #indices$continent   # returns the continent (6 continent model)
  #indices$REGION   # returns the continent (7 continent model)
  indices$ADMIN  #returns country name
  #indices$ISO3 # returns the ISO3 code 
}
countries<-coords2(as.matrix(points))
points[,3]<-countries
points["Kochi",]$V3<-"India"
write.csv(points,"../data/location_mapping.csv")
#map <- get_map(location = 'India', zoom = 4)
#ggmap(map) + geom_point(aes(x=77.10249,y=28.70406,label="Delhi"))
#mapWorld <- borders("world", colour="gray50", fill="gray50")
#mp <- ggplot() +   mapWorld
#mp <- mp+ geom_point(aes(x=visit.x, y=visit.y) ,color="blue", size=3)
```
##3 Results
##3.1 Analysis of data across seasons
####3.1.1 Toss Winner
####3.1.2 Comparison of total matches played and won
####3.1.3 Comparison of average runs scored by teams 
####3.1.4 Top batsmen
####3.1.5 Top Bowler

##3.2 Analysis of the teams
###3.2.1 Comparison of total matches played and won
####3.2.2 Comparison of average runs scored

##3.3 Analysis of player's performance
####3.3.1 Player of match awards
####3.3.2 Average runs scored across seasons
####3.3.3 Total Wickets

##4 Conclusions


